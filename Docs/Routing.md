## 📚 Next.js 라우팅 방식: `pages` 디렉토리 vs `app` 디렉토리

Next.js 프로젝트를 시작할 때 라우팅 구조를 설정하는 것은 매우 중요한 부분입니다. 

현재 Next.js에서는 두 가지 주요 라우팅 방식이 있습니다

**`pages` 디렉토리**와 **`app` 디렉토리**. 두 방식의 차이점과 각각의 특징에 대해 자세히 알아보겠습니다.

---

## 📚 `pages` 디렉토리 기반 라우팅 (기존 방식)

`pages` 디렉토리는 Next.js 초기 버전부터 제공된 **기존 라우팅 방식**입니다. 파일 기반 라우팅으로, 파일 이름과 디렉토리 구조를 기반으로 경로를 자동으로 생성합니다.

<br>

### 예시
- `pages/index.tsx` → `/` 경로
- `pages/about.tsx` → `/about` 경로

<br>

### 주요 특징
- **파일 이름 기반 라우팅**: 파일 이름이 곧 경로가 됩니다.
- **데이터 페칭**: `getServerSideProps`, `getStaticProps`, `getStaticPaths` 같은 메서드를 활용하여 SSR(서버 사이드 렌더링) 및 SSG(정적 사이트 생성)를 구현할 수 있습니다.
- **클라이언트 컴포넌트**: 기본적으로 컴포넌트는 클라이언트에서 실행되며, 필요에 따라 SSR/SSG를 적용할 수 있습니다.
- **브라우저 전용 API 지원**: 브라우저 환경에서 실행되기 때문에 `window`, `document` 같은 브라우저 전용 API를 바로 사용할 수 있습니다.

---

## 📚 `app` 디렉토리 기반 라우팅 (Next.js 13 이상)

`app` 디렉토리는 Next.js 13 버전에서 도입된 새로운 라우팅 방식입니다. **React Server Components**를 기반으로 하며, 기존 방식보다 더 나은 성능과 개발자 경험을 제공합니다.

<br>

### 예시
- `app/page.tsx` → `/` 경로
- `app/about/page.tsx` → `/about` 경로

<br>

### 주요 특징
- **디렉토리 기반 라우팅**: 디렉토리 구조와 파일 이름을 조합하여 경로를 생성합니다.
- **서버 컴포넌트 기본 지원**: 모든 컴포넌트가 기본적으로 서버에서 렌더링됩니다.
- **데이터 페칭**: `getServerSideProps` 대신 `fetch` 같은 표준 API를 활용하여 데이터를 가져올 수 있습니다.
- **클라이언트 컴포넌트 명시**: 브라우저 환경에서 실행되는 컴포넌트를 만들기 위해서는 상단에 반드시 `"use client"` 지시어를 추가해야 합니다.
- **성능 최적화**: 서버 컴포넌트를 활용하여 번들 크기를 줄이고 렌더링 속도를 개선할 수 있습니다.

---

## 📚 두 방식의 차이점 비교

| **특징**                     | **`pages` 디렉토리**                                   | **`app` 디렉토리**                                   |
|------------------------------|------------------------------------------------------|-----------------------------------------------------|
| 라우팅 방식                  | 파일 이름 기반                                       | 디렉토리 및 파일 이름 기반                          |
| 데이터 페칭                  | `getServerSideProps`, `getStaticProps` 사용          | 서버 컴포넌트 안에서 직접 `fetch` 사용 가능          |
| 기본 컴포넌트 유형           | 클라이언트 컴포넌트                                 | 서버 컴포넌트                                       |
| 브라우저 전용 코드 사용 여부 | 가능 (기본 동작)                                     | `"use client"`를 명시해야 가능                      |
| SSR/SSG 지원                 | 지원 (명시적으로 구현 필요)                          | 지원 (기본적으로 서버 렌더링)                       |
| 렌더링 성능                  | 기존 방식                                            | 최신 최적화된 방식 (빠름)                            |

---

## 📚 요약

- **`pages` 디렉토리**: 안정적이고 널리 사용되는 방식으로, 기존 Next.js 프로젝트에서 흔히 볼 수 있습니다. 브라우저 환경에서 실행되는 클라이언트 컴포넌트가 기본입니다.
- **`app` 디렉토리**: 최신 Next.js 기능을 활용하려면 `app` 디렉토리를 사용하는 것이 좋습니다. 서버 컴포넌트를 기본으로 사용하며, 성능과 개발자 경험이 대폭 향상되었습니다.

프로젝트의 요구사항에 따라 적합한 방식을 선택하세요. 최신 기술을 채택하고 싶다면 `app` 디렉토리를, 익숙한 방식으로 빠르게 개발하고 싶다면 `pages` 디렉토리를 사용하는 것을 추천합니다.